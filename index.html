<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cynovva Subscription Checkout</title>
    <script src="https://cdn.paddle.com/paddle/paddle.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            Paddle.Setup({ vendor: 28796 }); // Vendor ID as integer
            console.log("Paddle Initialized Successfully");
        });

        function openCheckout(productId) {
            if (!productId) {
                alert("Error: Product ID is missing!");
                return;
            }

            console.log("Opening checkout for Product ID:", productId);

            // Debug Paddle API Call
            fetch(`https://sandbox-checkout-service.paddle.com/create/v2/checkout/product/${productId}`, {
                method: "GET"
            })
            .then(response => response.json())
            .then(data => console.log("Paddle Response:", data))
            .catch(error => console.error("Paddle API Error:", error));

            Paddle.Checkout.open({ product: productId }); // âœ… Use Product ID instead of Price ID
        }

        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("basic-monthly").addEventListener("click", function() {
                openCheckout("pro_01jpmh84d29tyvjsqcczd0wpys");  // Replace with actual Product ID
            });

            document.getElementById("basic-annual").addEventListener("click", function() {
                openCheckout("prod_xxxxxxxxxxxxxxxx");  // Replace with actual Product ID
            });

            document.getElementById("pro-monthly").addEventListener("click", function() {
                openCheckout("prod_xxxxxxxxxxxxxxxx");  // Replace with actual Product ID
            });

            document.getElementById("pro-annual").addEventListener("click", function() {
                openCheckout("prod_xxxxxxxxxxxxxxxx");  // Replace with actual Product ID
            });
        });
    </script>
</head>
<body>
    <h2>Subscribe to Cynovva</h2>
    <p>Select a plan to subscribe:</p>

    <button id="basic-monthly">Subscribe to Basic - Monthly</button>
    <button id="basic-annual">Subscribe to Basic - Annual</button>
    <button id="pro-monthly">Subscribe to Pro - Monthly</button>
    <button id="pro-annual">Subscribe to Pro - Annual</button>

    <p><small>Note: This is a test page using Paddle's Sandbox mode.</small></p>
</body>
</html>

